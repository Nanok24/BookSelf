{"version":3,"file":"src_app_pages_bookshelf_bookshelf_module_ts-es2015.js","mappings":"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","sources":["./src/app/pages/bookshelf/add-bookshelf/add-bookshelf.component.ts","./src/app/pages/bookshelf/bookshelf-book-list/bookshelf-book-list.component.ts","./src/app/pages/bookshelf/bookshelf-routing.module.ts","./src/app/pages/bookshelf/bookshelf.module.ts","./src/app/pages/bookshelf/bookshelf.page.ts","./src/app/pages/bookshelf/add-bookshelf/add-bookshelf.component.html","./src/app/pages/bookshelf/bookshelf-book-list/bookshelf-book-list.component.html","./src/app/pages/bookshelf/bookshelf.page.html"],"sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { ModalController, NavParams } from '@ionic/angular';\n\n@Component({\n  selector: 'app-add-bookshelf',\n  templateUrl: './add-bookshelf.component.html',\n  styleUrls: ['./add-bookshelf.component.scss']\n})\nexport class AddBookshelfComponent implements OnInit {\n  @Input() bookTitle: string;\n\n  public name: string;\n  public description: string;\n  public bookAuthors: string;\n\n  private userId: any;\n\n  constructor(\n    public navParams: NavParams,\n    public modalController: ModalController,\n    private angularFirestore: AngularFirestore\n  ) {\n  }\n\n  ngOnInit() {\n    this.userId = this.navParams.get('userId');\n  }\n\n  public changeName(name: any): void {\n    this.name = name.target.value;\n  }\n\n  public changeDescription(description: any): void {\n    this.description = description.target.value;\n  }\n\n  public async closeModal(): Promise<void> {\n    const close = 'Modal Removed';\n    await this.modalController.dismiss(close);\n  }\n\n  async save() {\n    this.angularFirestore\n      .collection('bookshelfs')\n      .add({\n        name: this.name,\n        userId: this.userId,\n        createdAt: new Date()\n      })\n      .then(async() => {\n        const close = 'Modal Removed';\n        await this.modalController.dismiss(close);\n      })\n      .catch(err => console.log(err));\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { AngularFirestore, AngularFirestoreCollection } from '@angular/fire/firestore';\nimport { ActivatedRoute } from '@angular/router';\nimport { ModalController } from '@ionic/angular';\nimport { AuthenticationService } from '../../../services/authentication.service';\nimport { Book, FirestoreService, Users } from '../../../services/firestore.service';\nimport { ReviewModalPage } from '../../review-modal/review-modal.page';\n\n@Component({\n  selector: 'app-bookshelf-book-list',\n  templateUrl: './bookshelf-book-list.component.html',\n  styleUrls: ['./bookshelf-book-list.component.scss']\n})\nexport class BookshelfBookListComponent implements OnInit {\n  public displayName = null;\n  public uid = null;\n  public usersCollection: AngularFirestoreCollection<Users>;\n  public books: Book[] = [];\n\n  private readonly bookShelfId: string;\n\n  constructor(\n    public authService: AuthenticationService,\n    public modalController: ModalController,\n    public afs: FirestoreService,\n    public afAuth: AngularFireAuth,\n    private angularFirestore: AngularFirestore,\n    private route: ActivatedRoute\n  ) {\n    this.bookShelfId = this.route.snapshot.paramMap.get('id');\n\n    afAuth.authState.subscribe((user) => {\n      if(user) {\n        this.uid = user.uid;\n        this.displayName = localStorage.getItem('currentUserDisplayName');\n      }\n    });\n  }\n\n  // Aici e tot ce am incercat eu pe parcurs pentru afisare, ceva de aici functioneaza, dar nu cum imi doresc\n\n  ngOnInit() {\n    this.angularFirestore.collection('books').snapshotChanges().subscribe((books) => {\n      this.books = books.map((t) => ({\n        id: t.payload.doc.id,\n        ...t.payload.doc.data() as Book\n      })).filter(t => t.bookShelfId === this.bookShelfId).sort((a, b) => {\n        return new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime();\n      });\n    });\n    // this.user$ = this.afs.afStore\n    //   .collection('users', (ref) => ref.where('uid', '==', this.uid))\n    //   .valueChanges();\n  }\n\n  ionViewDidLoad() {\n\n  }\n\n  ionViewWillEnter() {\n    // this.user$ = this.afs.afStore\n    //   .collection('users', (ref) => ref.where('uid', '==', this.uid))\n    //   .valueChanges();\n    // this.books$ = this.afs.afStore.collection('books').valueChanges();\n    // this.docs$ = this.afs.afStore\n    //   .collection('bookshelfs', (ref) =>\n    //     ref.where('userID', '==', this.uid).orderBy('createdAt', 'desc')\n    //   )\n    //   .valueChanges();\n    // console.log(\n    //   'ðŸš€ ~ file: bookshelf.page.ts ~ line 79 ~ BookshelfPage ~ ionViewWillEnter ~ docs$',\n    //   this.docs$\n    // );\n    // const testare = this.afs.afStore\n    //   .collection('bookshelfs', (ref) =>\n    //     ref.where('userID', '==', this.uid).orderBy('createdAt', 'desc')\n    //   )\n    //   .valueChanges();\n    // testare.forEach((el) => {\n    //   for (let index = 0; index < el.length; index++) {\n    //     console.log(el[index]);\n    //   }\n    //   console.log(el);\n    // });\n    // const queryObservable = this.test$.pipe(\n    //   switchMap((test) =>\n    //     this.afs.afStore\n    //       .collection('users', (ref) => ref.where('uid', '==', test))\n    //       .valueChanges()\n    //   )\n    // );\n    // queryObservable.subscribe((queriedItems) => {\n    //   console.log(queriedItems);\n    // });\n  }\n\n  async openModal(book: Book) {\n    const modal = await this.modalController.create({\n      component: ReviewModalPage,\n      cssClass: 'modalCss',\n      componentProps: {\n        bookTitle: book.title,\n        bookAuthors: book.authors,\n        userId: this.uid,\n        bookId: book.id,\n        cover: book.cover,\n        title: book.title\n      }\n    });\n\n    modal.present();\n  }\n\n  deleteBook(bookId: string): Promise<void> {\n    return this.angularFirestore.doc(`books/${bookId}`).delete();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { BookshelfBookListComponent } from './bookshelf-book-list/bookshelf-book-list.component';\n\nimport { BookshelfPage } from './bookshelf.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: BookshelfPage\n  },\n  {\n    path: 'book-list/:id',\n    component: BookshelfBookListComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class BookshelfPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule, NavParams } from '@ionic/angular';\nimport { AddBookModalComponent } from './add-book-modal/add-book-modal.component';\nimport { AddBookshelfComponent } from './add-bookshelf/add-bookshelf.component';\nimport { BookshelfBookListComponent } from './bookshelf-book-list/bookshelf-book-list.component';\n\nimport { BookshelfPageRoutingModule } from './bookshelf-routing.module';\n\nimport { BookshelfPage } from './bookshelf.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    BookshelfPageRoutingModule\n  ],\n  declarations: [BookshelfPage, BookshelfBookListComponent, AddBookshelfComponent, AddBookModalComponent],\n  providers: [NavParams]\n})\nexport class BookshelfPageModule {}\n","import { Component } from \"@angular/core\";\nimport { AngularFireAuth } from \"@angular/fire/auth\";\nimport { AngularFirestore } from \"@angular/fire/firestore\";\nimport { Router } from \"@angular/router\";\nimport { ModalController, NavController } from \"@ionic/angular\";\nimport firebase from \"firebase\";\nimport { AuthenticationService } from \"src/app/services/authentication.service\";\nimport {\n  Bookshelf,\n  FirestoreService,\n} from \"src/app/services/firestore.service\";\nimport { AddBookshelfComponent } from \"./add-bookshelf/add-bookshelf.component\";\nimport User = firebase.User;\n\n@Component({\n  selector: \"app-bookshelf\",\n  templateUrl: \"./bookshelf.page.html\",\n  styleUrls: [\"./bookshelf.page.scss\"],\n})\nexport class BookshelfPage {\n  public booksShelves: Bookshelf[] = [];\n  public userId: string;\n  public displayName: string;\n  public userData: any;\n\n  constructor(\n    public authService: AuthenticationService,\n    public modalController: ModalController,\n    public afs: FirestoreService,\n    public afAuth: AngularFireAuth,\n    private angularFirestore: AngularFirestore,\n    private router: Router,\n    private navCtrl: NavController\n  ) {}\n\n  ionViewWillEnter() {\n    const user = JSON.parse(localStorage.getItem(\"user\")) as User;\n\n    if (user) {\n      this.userData = user;\n      this.userId = user.uid;\n      this.displayName = localStorage.getItem(\"currentUserDisplayName\");\n      this.angularFirestore\n        .collection(\"bookshelfs\")\n        .snapshotChanges()\n        .subscribe((books) => {\n          this.booksShelves = books\n            .map((t) => ({\n              id: t.payload.doc.id,\n              ...(t.payload.doc.data() as Bookshelf),\n            }))\n            .map(\n              (book) =>\n                ({\n                  id: book.id,\n                  userId: book.userId,\n                  name: book.name,\n                } as Bookshelf)\n            )\n            .filter((t) => t.userId === this.userId);\n        });\n    }\n  }\n\n  public async goToBookList(bookShelfId: number) {\n    await this.router.navigate([\"book-list\", bookShelfId]);\n  }\n\n  public async signOut(): Promise<void> {\n    await this.navCtrl.navigateRoot(\"/login\");\n    await this.authService.signOut();\n  }\n\n  async presentModal() {\n    const modal = await this.modalController.create({\n      component: AddBookshelfComponent,\n      cssClass: \"modalCss\",\n      componentProps: {\n        userId: this.userId,\n      },\n    });\n    return await modal.present();\n  }\n\n  deleteBookshelf(bookShelfId: string): Promise<void> {\n    return this.angularFirestore.doc(`bookshelfs/${bookShelfId}`).delete();\n  }\n}\n","export default \"<ion-header class=\\\"ion-no-border\\\">\\n  <ion-toolbar>\\n    <ion-title class=\\\"ion-text-center\\\">Add a bookshelf</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"closeModal()\\\" class=\\\"button-text\\\">Close</ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <ion-list\\n    style=\\\"height: 100%; width: 100%\\\"\\n    lines=\\\"none\\\"\\n    class=\\\"ion-align-items-center ion-justify-content-center\\\"\\n  >\\n    <ion-item>\\n      <ion-label class=\\\"ion-text-center book-title\\\">Bookshelf Title</ion-label>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label class=\\\"label-text\\\" style=\\\"margin-top: 0px\\\">Name:</ion-label>\\n      <ion-input\\n        type=\\\"text\\\"\\n        class=\\\"review-text\\\"\\n        (ionChange)=\\\"changeName($event)\\\"\\n      ></ion-input>\\n    </ion-item>\\n  </ion-list>\\n</ion-content>\\n\\n<ion-footer>\\n  <ion-toolbar style=\\\"--background: rgba(var(--ion-color-success-rgb), 0.7)\\\">\\n    <ion-button expand=\\\"block\\\" fill=\\\"clear\\\" shape=\\\"round\\\" (click)=\\\"save()\\\">\\n      <span class=\\\"button-text\\\">Create</span>\\n    </ion-button>\\n  </ion-toolbar>\\n</ion-footer>\\n\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-item>\\n      <ion-avatar slot=\\\"start\\\">\\n        <img src=\\\"../assets/icon/profileIcon.svg\\\" />\\n      </ion-avatar>\\n      <ion-label class=\\\"profile-name\\\">{{ displayName }}</ion-label>\\n    </ion-item>\\n    <ion-item button slot=\\\"end\\\" (click)=\\\"authService.signOut()\\\">\\n      <ion-icon\\n        name=\\\"log-out-outline\\\"\\n        style=\\\"width: 30px; height: 30px\\\"\\n      ></ion-icon>\\n      <ion-label style=\\\"margin-left: 5px\\\" class=\\\"logout-text\\\">Logout</ion-label>\\n    </ion-item>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-grid class=\\\"ion-align-items-center ion-justify-content-center\\\">\\n    <ion-row class=\\\"ion-justify-content-center\\\">\\n      <ion-card *ngIf=\\\"!books.length\\\">\\n        <ion-card-content>\\n          <ion-item>\\n            <ion-label><span>Collection is empty</span></ion-label>\\n          </ion-item>\\n        </ion-card-content>\\n      </ion-card>\\n      <ion-col\\n        size=\\\"12\\\"\\n        size-md=\\\"6\\\"\\n        size-lg=\\\"4\\\"\\n        style=\\\"width: 390px\\\"\\n        *ngFor=\\\"let book of books\\\"\\n      >\\n        <ion-card>\\n          <ion-card-header>\\n            <div class=\\\"ion-float-right ion-no-padding\\\">\\n              <ion-button (click)=\\\"openModal(book)\\\" fill=\\\"clear\\\" slot=\\\"end\\\">\\n                <ion-icon\\n                  slot=\\\"icon-only\\\"\\n                  name=\\\"star-sharp\\\"\\n                  style=\\\"color: rgba(var(--ion-color-warning-rgb), 0.85)\\\"\\n                ></ion-icon>\\n              </ion-button>\\n              <ion-button (click)=\\\"deleteBook(book.id)\\\" fill=\\\"clear\\\" slot=\\\"end\\\">\\n                <ion-icon\\n                  slot=\\\"icon-only\\\"\\n                  name=\\\"trash-sharp\\\"\\n                  style=\\\"color: rgba(var(--ion-color-danger-rgb), 0.85)\\\"\\n                >\\n                </ion-icon>\\n              </ion-button>\\n            </div>\\n            <ion-item lines=\\\"none\\\">\\n              <ion-label class=\\\"card-title ion-text-wrap\\\">{{\\n                book.title\\n              }}</ion-label>\\n            </ion-item>\\n          </ion-card-header>\\n          <ion-card-content\\n            class=\\\"\\n              ion-text-center\\n              ion-justify-content-between\\n              ion-align-center-center\\n            \\\"\\n          >\\n            <div\\n              style=\\\"width: 100px; height: 250px\\\"\\n              class=\\\"ion-float-left ion-align-items-center\\\"\\n            >\\n              <ion-img\\n                class=\\\"ion-float-left ion-align-self-center\\\"\\n                src=\\\"{{ book.cover }}\\\"\\n                style=\\\"width: 100px; height: 250px; margin-top: 10%\\\"\\n              ></ion-img>\\n            </div>\\n            <ion-list lines=\\\"none\\\">\\n              <ion-item>\\n                <ion-label\\n                  >Authors: <span>{{ book.authors }}</span></ion-label\\n                >\\n              </ion-item>\\n              <ion-item>\\n                <ion-label\\n                  >Publisher: <span>{{ book.publishers }}</span></ion-label\\n                >\\n              </ion-item>\\n              <ion-item>\\n                <ion-label\\n                  >Publish date: <span>{{ book.publish_date }}</span></ion-label\\n                >\\n              </ion-item>\\n              <ion-item>\\n                <ion-label\\n                  >Number of pages:\\n                  <span>{{ book.number_of_pages }}</span></ion-label\\n                >\\n              </ion-item>\\n              <ion-item>\\n                <ion-label\\n                  >ISBN: <span>{{ book.isbn }}</span></ion-label\\n                >\\n              </ion-item>\\n            </ion-list>\\n          </ion-card-content>\\n        </ion-card>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\\n\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-item>\\n      <ion-avatar slot=\\\"start\\\">\\n        <img src=\\\"../assets/icon/profileIcon.svg\\\" />\\n      </ion-avatar>\\n      <ion-label class=\\\"profile-name\\\">{{displayName}}</ion-label>\\n    </ion-item>\\n    <ion-item button slot=\\\"end\\\" (click)=\\\"signOut()\\\">\\n      <ion-icon\\n        name=\\\"log-out-outline\\\"\\n        style=\\\"width: 30px; height: 30px\\\"\\n      ></ion-icon>\\n      <ion-label style=\\\"margin-left: 5px\\\" class=\\\"logout-text\\\">Logout</ion-label>\\n    </ion-item>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-grid class=\\\"ion-align-items-center ion-justify-content-center\\\">\\n    <ion-row class=\\\"ion-align-items-center\\\">\\n      <ion-col size=\\\"12\\\" class=\\\"ion-text-center\\\"\\n        ><ion-button\\n          (click)=\\\"presentModal()\\\"\\n          class=\\\"ion-justify-content-center add-button\\\"\\n        >\\n          <ion-icon slot=\\\"start\\\" name=\\\"add\\\"></ion-icon>\\n          Add a bookshelf\\n        </ion-button></ion-col\\n      >\\n    </ion-row>\\n    <ion-row class=\\\"ion-justify-content-center\\\">\\n      <ion-card *ngIf=\\\"!booksShelves.length\\\">\\n        <ion-card-content>\\n          <ion-item>\\n            <ion-label><span>Collection is empty</span></ion-label>\\n          </ion-item>\\n        </ion-card-content>\\n      </ion-card>\\n      <ion-col\\n        size=\\\"12\\\"\\n        size-md=\\\"6\\\"\\n        size-lg=\\\"4\\\"\\n        style=\\\"width: 390px\\\"\\n        *ngFor=\\\"let bookShelf of booksShelves\\\"\\n      >\\n        <ion-card>\\n          <ion-card-header>\\n            <ion-img\\n              class=\\\"ion-float-left ion-align-self-center\\\"\\n              src=\\\"./assets/icon/bookshelfCard.svg\\\"\\n              style=\\\"width: 100px; height: 200px\\\"\\n            ></ion-img>\\n            <div class=\\\"ion-float-right ion-no-padding\\\">\\n              <ion-button\\n                (click)=\\\"deleteBookshelf(bookShelf.id)\\\"\\n                fill=\\\"clear\\\"\\n                slot=\\\"end\\\"\\n              >\\n                <ion-icon\\n                  slot=\\\"icon-only\\\"\\n                  name=\\\"trash-sharp\\\"\\n                  style=\\\"color: rgba(var(--ion-color-danger-rgb), 0.85)\\\"\\n                >\\n                </ion-icon>\\n              </ion-button>\\n            </div>\\n          </ion-card-header>\\n          <ion-card-content\\n            class=\\\"\\n              ion-text-center\\n              ion-justify-content-between\\n              ion-align-center-center\\n            \\\"\\n          >\\n            <ion-item lines=\\\"none\\\">\\n              <ion-label class=\\\"card-title ion-text-wrap\\\"\\n                >{{bookShelf.name}}</ion-label\\n              >\\n            </ion-item>\\n          </ion-card-content>\\n          <div class=\\\"ion-justify-content-center\\\">\\n            <ion-button\\n              [routerLink]=\\\"['book-list', bookShelf.id]\\\"\\n              fill=\\\"solid\\\"\\n              class=\\\"open-button\\\"\\n            >\\n              Open\\n              <ion-icon name=\\\"open-outline\\\" style=\\\"margin-left: 5px\\\"></ion-icon>\\n            </ion-button>\\n          </div>\\n        </ion-card>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n    <ion-fab-button>\\n      <ion-icon name=\\\"search-outline\\\"></ion-icon>\\n    </ion-fab-button>\\n    <ion-fab-list side=\\\"top\\\">\\n      <ion-fab-button class=\\\"search-list\\\" [routerLink]=\\\"['../../book-search']\\\">\\n        <ion-icon name=\\\"book\\\"></ion-icon>\\n      </ion-fab-button>\\n      <ion-fab-button\\n        class=\\\"search-list\\\"\\n        [routerLink]=\\\"['../../review-search']\\\"\\n      >\\n        <ion-icon name=\\\"star\\\"></ion-icon>\\n      </ion-fab-button>\\n      <ion-fab-button class=\\\"search-list\\\" [routerLink]=\\\"['../../user-search']\\\">\\n        <ion-icon name=\\\"person\\\"></ion-icon>\\n      </ion-fab-button>\\n    </ion-fab-list>\\n  </ion-fab>\\n</ion-content>\\n\";"],"names":[],"sourceRoot":"webpack:///"}